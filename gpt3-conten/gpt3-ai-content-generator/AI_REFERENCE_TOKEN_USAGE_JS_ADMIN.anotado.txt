================================================================================
FUNCION: n
Resumen: Función que maneja $human.
CODIGO:
function n(e){e&&e.classList.remove("aipkit_active")}

================================================================================
FUNCION: o
Resumen: Función que maneja $human.
CODIGO:
function o(n,e){if(n.innerHTML="",typeof window.aipkit_assignModuleColors!="function"||typeof window.aipkit_getModuleColor!="function"||typeof window.aipkit_formatChartNumber!="function"||typeof window.aipkit_formatChartDate!="function"||typeof window.aipkit_showStackedTooltip!="function"||typeof window.aipkit_moveChartTooltip!="function"||typeof window.aipkit_hideChartTooltip!="function"){console.error("AIPKit Chart Renderer: Missing required chart utility/color/tooltip functions."),n.innerHTML='<p style="color:red">Error rendering chart: Dependencies missing.</p>';return}let i=Object.keys(e);if(i.length===0){n.innerHTML='<p style="text-align:center; padding:20px;">No data available for chart.</p>';return}let c=new Set;i.forEach(x=>{Object.keys(e[x]).forEach(v=>c.add(v))});let s=Array.from(c);s.sort((x,v)=>{if(x==="Other")return 1;if(v==="Other")return-1;let C=P=>P?r(P.replace(/[-_]/g," ")):"Unknown";return C(x).localeCompare(C(v))}),window.aipkit_assignModuleColors(s);let t=1;i.forEach(x=>{let v=Object.values(e[x]).reduce((C,P)=>C+P,0);v>t&&(t=v)}),t=t*1.05;let d=i.length,a=250,l=s.length>0?Math.max(40,Math.ceil(s.length/3)*20):0,p={top:20,right:20,bottom:30+l,left:50},_=n.clientWidth-p.left-p.right,u=a-p.top-p.bottom,m=Math.max(1,_/d*.8),k=Math.max(0,_/d*.2),f=document.createElementNS(g,"svg");f.setAttribute("viewBox",`0 0 ${n.clientWidth} ${a}`),f.setAttribute("preserveAspectRatio","xMidYMid meet"),f.setAttribute("class","aipkit_token_usage_chart_svg"),f.setAttribute("aria-label","Token usage per module per day chart");let w=document.createElementNS(g,"g");w.setAttribute("transform",`translate(${p.left}, ${p.top})`),f.appendChild(w);let E=document.createElement("div");E.className="aipkit_chart_tooltip",n.style.position="relative",n.appendChild(E);let y=document.createElementNS(g,"g");y.setAttribute("class","aipkit_chart_axis aipkit_chart_axis_y"),w.appendChild(y);let I=document.createElementNS(g,"line");I.setAttribute("x1",0),I.setAttribute("y1",0),I.setAttribute("x2",0),I.setAttribute("y2",u),y.appendChild(I);let S=5;for(let x=0;x<S;x++){let v=Math.round(t*(x/(S-1))),C=u-u*(x/(S-1)),P=document.createElementNS(g,"text");P.setAttribute("x",-5),P.setAttribute("y",C+3),P.setAttribute("class","aipkit_chart_label aipkit_chart_label_y"),P.textContent=window.aipkit_formatChartNumber(v),y.appendChild(P);let $=document.createElementNS(g,"line");$.setAttribute("x1",0),$.setAttribute("y1",C),$.setAttribute("x2",_),$.setAttribute("y2",C),$.setAttribute("class","aipkit_chart_grid_line"),w.insertBefore($,w.firstChild)}let h=document.createElementNS(g,"g");h.setAttribute("class","aipkit_chart_axis aipkit_chart_axis_x"),h.setAttribute("transform",`translate(0, ${u})`),w.appendChild(h);let M=document.createElementNS(g,"line");M.setAttribute("x1",0),M.setAttribute("y1",0),M.setAttribute("x2",_),M.setAttribute("y2",0),h.appendChild(M);let b=Math.max(1,Math.ceil(d/(_/60)));i.forEach((x,v)=>{if(v%b===0||v===d-1){let C=v*(m+k)+m/2+k/2,P=document.createElementNS(g,"text");P.setAttribute("x",C),P.setAttribute("y",p.bottom-l-10),P.setAttribute("class","aipkit_chart_label aipkit_chart_label_x"),P.textContent=window.aipkit_formatChartDate(x),h.appendChild(P)}});let A=document.createElementNS(g,"g");if(w.appendChild(A),i.forEach((x,v)=>{let C=e[x],P=u,$=0;s.filter(D=>C[D]>0).forEach(D=>{let N=C[D]||0;$+=N;let R=N/t*u;P-=R;let j=v*(m+k)+k/2,L=document.createElementNS(g,"rect");L.setAttribute("x",j),L.setAttribute("y",P),L.setAttribute("width",m),L.setAttribute("height",Math.max(.1,R)),L.setAttribute("class","aipkit_chart_bar"),L.setAttribute("fill",window.aipkit_getModuleColor(D)),L.setAttribute("data-date",x),L.setAttribute("data-module",D),L.setAttribute("data-value",N),L.setAttribute("data-daily-total",0),L.addEventListener("mouseenter",K=>window.aipkit_showStackedTooltip(K,E)),L.addEventListener("mousemove",K=>window.aipkit_moveChartTooltip(K,E)),L.addEventListener("mouseleave",()=>window.aipkit_hideChartTooltip(E)),A.appendChild(L)}),A.querySelectorAll(`rect[data-date="${x}"]`).forEach(D=>D.setAttribute("data-daily-total",$))}),s.length>0){let x=document.createElementNS(g,"g");x.setAttribute("class","aipkit_chart_legend"),x.setAttribute("transform",`translate(0, ${u+p.bottom-l+5})`),w.appendChild(x);let v=0,C=0,P=20,$=_,U=35;s.forEach(B=>{let D=r(B.replace(/[-_]/g," ")),R=D.length*7+25+U;v>0&&v+R>$&&(v=0,C+=P);let j=document.createElementNS(g,"g");j.setAttribute("transform",`translate(${v}, ${C})`);let L=document.createElementNS(g,"rect");L.setAttribute("width",10),L.setAttribute("height",10),L.setAttribute("y",-5),L.setAttribute("fill",window.aipkit_getModuleColor(B)),j.appendChild(L);let K=document.createElementNS(g,"text");K.setAttribute("x",15),K.setAttribute("y",0),K.setAttribute("class","aipkit_chart_legend_label"),K.textContent=D,j.appendChild(K),x.appendChild(j),v+=R})}n.appendChild(f)}

================================================================================
FUNCION: r
Resumen: Función que maneja $human.
CODIGO:
function r(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}

================================================================================
FUNCION: g
Resumen: Función que maneja $human.
CODIGO:
function g(o){let r=document.getElementById("aipkit_token_usage_chart_container");if(!r){console.warn("AIPKit Chart Fetcher: Container not found.");return}if(typeof window.aipkit_apiRequest!="function"||typeof window.aipkit_renderTokenUsageChart!="function"){console.error("AIPKit Chart Fetcher: Missing required API or render functions.");return}let n=r.querySelector(".aipkit_chart_loading_placeholder"),e=r.querySelector(".aipkit_chart_error_placeholder"),i=r.querySelector(".aipkit_chart_nodata_placeholder");e&&(e.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="flex");let c=[3,7,14,30,90],s=parseInt(o,10);if(!s||isNaN(s)){try{let d=localStorage.getItem("aipkit_stats_period_days"),a=parseInt(d,10);d&&!isNaN(a)&&c.includes(a)&&(s=a)}catch{}let t=document.getElementById("aipkit_stats_period_select");if(t){let d=parseInt(t.value,10);(!s||isNaN(s))&&(s=!isNaN(d)&&c.includes(d)?d:3),c.includes(s)&&String(t.value)!==String(s)&&(t.value=String(s))}else r.dataset.defaultDays?s=parseInt(r.dataset.defaultDays,10)||3:s=3}window.aipkit_apiRequest("aipkit_get_token_usage_chart_data",{days:s}).then(t=>{if(n&&(n.style.display="none"),t&&t.daily_token_data){let d=t.daily_token_data;if(d&&typeof d=="object"&&Object.values(d).some(l=>l&&typeof l=="object"&&Object.values(l).some(p=>Number(p)>0)))window.aipkit_renderTokenUsageChart(r,d);else{let l=t.notice||window.aipkit_dashboard?.text?.chartNoData||"No token usage data found for the selected period.",p=t.manage_logs_url,_=e||i;if(_){_.textContent="";let u=document.createTextNode(l+" ");if(_.appendChild(u),p){let m=document.createElement("a");m.href=p,m.target="_blank",m.rel="noopener noreferrer",m.textContent=window.aipkit_dashboard?.text?.manageLogs||"View stats",_.appendChild(m)}_.style.display="flex"}else{let u=document.createElement("div");u.className="aipkit_chart_error_placeholder",u.textContent=l,r.innerHTML="",r.appendChild(u)}}}else throw new Error("Invalid data received for chart.")}).catch(t=>{if(console.error("AIPKit Chart Fetcher: Error loading data:",t),n&&(n.style.display="none"),e)e.textContent=(window.aipkit_dashboard?.text?.chartError||"Error loading chart data.")+` (${t.message})`,e.style.display="flex";else{let d=document.createElement("div");d.className="aipkit_chart_error_placeholder",d.textContent=(window.aipkit_dashboard?.text?.chartError||"Error loading chart data.")+` (${t.message})`,r.innerHTML="",r.appendChild(d)}})}

================================================================================
FUNCION: g
Resumen: Función que maneja $human.
CODIGO:
function g(o){window.aipkit_dashboard&&(window.aipkit_dashboard.models=window.aipkit_dashboard.models||{},window.aipkit_dashboard.models.openai=o);let r=document.getElementById("aipkit_openai_model"),n=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_openai_model"]');if(!r&&n.length===0){console.warn("OpenAI Sync: No OpenAI model selects found (#aipkit_openai_model or chat selects).");return}if(!o||Object.keys(o).length===0){r.appendChild(new Option("No models found.",""));return}let e=!1,i=["o1 models","o3 models","o4 models","gpt-3.5 models","gpt-4 models","gpt-5 models","fine-tuned models","others"],c=Object.keys(o),s=i.filter(l=>c.includes(l)).concat(c.filter(l=>!i.includes(l)).sort()),t=(l,p)=>{let _=!1;return s.forEach(u=>{let m=o[u]||[];if(m.length===0)return;let k=document.createElement("optgroup");k.label=u,m.sort((f,w)=>(f.name||f.id||"").localeCompare(w.name||w.id||"")),m.forEach(f=>{let w=new Option(f.name||f.id,f.id);f.id===p&&(w.selected=!0,_=!0),k.appendChild(w)}),l.appendChild(k)}),_};if(r){let l=t(r,r.value);if(!l&&r.value&&!r.querySelector(`option[value="${CSS.escape(r.value)}"]`)){let p=new Option(r.value+" (manual)",r.value,!1,!0),_=r.querySelector('optgroup[label="Other"]');_?_.appendChild(p):r.insertBefore(p,r.firstChild),l=!0}if(!l&&r.options.length>0&&r.selectedIndex===-1){let p=-1;for(let _=0;_<r.options.length;_++)if(!r.options[_].disabled&&r.options[_].value){p=_;break}r.selectedIndex=p!==-1?p:0}}n.forEach(l=>{if(!t(l,l.value)&&l.value&&!l.querySelector(`option[value="${CSS.escape(l.value)}"]`)){let _=new Option(l.value+" (manual)",l.value,!1,!0);l.insertBefore(_,l.firstChild)}l.options.length>0&&l.selectedIndex===-1&&(l.selectedIndex=0)});let d=document.getElementById("aipkit_content_writer_provider"),a=document.getElementById("aipkit_content_writer_model");d&&a&&d.value==="openai"&&typeof window.aipkit_populateModelsForContentWriter=="function"&&window.aipkit_populateModelsForContentWriter(d,a)}

================================================================================
FUNCION: o
Resumen: Función que maneja $human.
CODIGO:
function o(r){window.aipkit_dashboard&&(window.aipkit_dashboard.models=window.aipkit_dashboard.models||{},window.aipkit_dashboard.models.openrouter=Array.isArray(r)?r:[]);let n=document.getElementById("aipkit_openrouter_model"),e=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_openrouter_model"]');if(!n&&e.length===0){console.warn("OpenRouter Sync: No OpenRouter model selects found (#aipkit_openrouter_model or chat selects).");return}let i=window.aipkit_dashboard?.recommendedModels?.openrouter||[],c=Array.isArray(i)?i:[],s=a=>{if(!a)return[];let l=g("Recommended","gpt3-ai-content-generator"),p=Array.from(a.querySelectorAll("optgroup")).find(_=>_.label===l||_.label==="Recommended");return p?Array.from(p.querySelectorAll("option")).map(_=>({id:_.value,name:_.textContent.trim()||_.value})).filter(_=>_.id):[]};if(c.length===0){let a=n||e[0];c=s(a)}let t=new Set(c.map(a=>a?.id).filter(Boolean)),d=a=>{let l=a.value;a.innerHTML="";let p=!1,_=!1;if(c.length>0){let k=document.createElement("optgroup");k.label=g("Recommended","gpt3-ai-content-generator"),c.forEach(f=>{if(f&&typeof f=="object"&&f.id){let w=new Option(f.name||f.id,f.id);f.id===l&&(w.selected=!0,p=!0),k.appendChild(w)}}),k.children.length>0&&(a.appendChild(k),_=!0)}if(!r||!r.length){_||a.appendChild(new Option("No models found.",""));return}let u={};if(r.forEach(k=>{if(!k||!k.id||t.has(k.id))return;let f=k.id.split("/"),w=(f.length>1?f[0]:"other").toLowerCase();u[w]||(u[w]=[]),u[w].push(k)}),Object.keys(u).sort().forEach(k=>{let f=document.createElement("optgroup");f.label=k.charAt(0).toUpperCase()+k.slice(1),u[k].sort((w,E)=>(w.name||"").localeCompare(E.name||"")),u[k].forEach(w=>{let E=new Option(w.name||w.id,w.id);w.id===l&&(E.selected=!0,p=!0),f.appendChild(E)}),f.children.length>0&&(a.appendChild(f),_=!0)}),!p&&l&&!a.querySelector(`option[value="${CSS.escape(l)}"]`)){let k=new Option(l+" (manual)",l,!1,!0);a.insertBefore(k,a.firstChild)}if(!p&&a.options.length>0&&a.selectedIndex===-1){let k=-1;for(let f=0;f<a.options.length;f++)if(!a.options[f].disabled&&a.options[f].value){k=f;break}a.selectedIndex=k!==-1?k:0}};n&&d(n),e.forEach(d)}

================================================================================
FUNCION: o
Resumen: Función que maneja $human.
CODIGO:
function o(r){let n=document.getElementById("aipkit_google_model"),e=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_google_model"]');if(!n&&e.length===0){console.warn("Google Sync: No Google model selects found (#aipkit_google_model or chat selects).");return}let i=window.aipkit_dashboard?.recommendedModels?.google||[],c=Array.isArray(i)?i:[],s=l=>{if(!l)return[];let p=g("Recommended","gpt3-ai-content-generator"),_=Array.from(l.querySelectorAll("optgroup")).find(u=>u.label===p||u.label==="Recommended");return _?Array.from(_.querySelectorAll("option")).map(u=>({id:u.value,name:u.textContent.trim()||u.value})).filter(u=>u.id):[]};if(c.length===0){let l=n||e[0];c=s(l)}let t=new Set(c.map(l=>l?.id).filter(Boolean)),d=Array.isArray(r)?r.slice():[];d.sort((l,p)=>(l.name||l.id||"").localeCompare(p.name||p.id||""));let a=l=>{let p=l.value;l.innerHTML="";let _=!1,u=!1,m=c.length>0?document.createElement("optgroup"):null;if(m&&(m.label=g("All models","gpt3-ai-content-generator")),c.length>0){let k=document.createElement("optgroup");k.label=g("Recommended","gpt3-ai-content-generator"),c.forEach(f=>{if(f&&typeof f=="object"&&f.id){let w=new Option(f.name||f.id,f.id);(f.id===p||`models/${f.id}`===p)&&(w.selected=!0,_=!0),k.appendChild(w)}}),k.children.length>0&&(l.appendChild(k),u=!0)}if(!d.length){u||l.appendChild(new Option("No models found.",""));return}if(d.forEach(k=>{let f=k.id||"",w=k.name||f;if(!f||t.has(f))return;let E=new Option(w,f);(f===p||`models/${f}`===p)&&(E.selected=!0,_=!0),m?m.appendChild(E):(l.appendChild(E),u=!0)}),m&&m.children.length>0&&(l.appendChild(m),u=!0),!_&&p){let k=p.startsWith("models/")?p.substring(7):p;if(!l.querySelector(`option[value="${CSS.escape(k)}"]`)){let f=k,w=new Option(f+" (manual)",p,!1,!0);l.insertBefore(w,l.firstChild),l.value=p}}if(l.options.length>0&&l.selectedIndex===-1){let k=-1;for(let f=0;f<l.options.length;f++)if(!l.options[f].disabled&&l.options[f].value){k=f;break}l.selectedIndex=k!==-1?k:0}};n&&a(n),e.forEach(a)}

================================================================================
FUNCION: g
Resumen: Función que maneja $human.
CODIGO:
ion r(e,i){if(!i)return;let c=i.parentElement;if(!c)return;let s=c.getBoundingClientRect(),t=e.clientX-s.left,d=e.clientY-s.top,a=i.offsetWidth,l=i.offsetHeight,p=t+15,_=d-l-10;p+a>s.width-5&&(p=t-a-15),p<5&&(p=5),_<5&&(_=d+15),_+l>s.height-5&&(_=s.height-l-5),i.style.left=`${p}px`,i.style.top=`${_}px`,i.style.transform="translate(0, 0)"}function n(e){e&&e.classList.remove("aipkit_active")}window.aipkit_showStackedTooltip=g,window.aipkit_moveChartTooltip=r,window.aipkit_hideChartTooltip=n})();(function(){"use strict";let g="http://www.w3.org/2000/svg";function o(n,e){if(n.innerHTML="",typeof window.aipkit_assignModuleColors!="function"||typeof window.aipkit_getModuleColor!="function"||typeof window.aipkit_formatChartNumber!="function"||typeof window.aipkit_formatChartDate!="function"||typeof window.aipkit_showStackedTooltip!="function"||typeof window.aipkit_moveChartTooltip!="function"||typeof window.aipkit_hideChartTooltip!="function"){console.error("AIPKit Chart Renderer: Missing required chart utility/color/tooltip functions."),n.innerHTML='<p style="color:red">Error rendering chart: Dependencies missing.</p>';return}let i=Object.keys(e);if(i.length===0){n.innerHTML='<p style="text-align:center; padding:20px;">No data available for chart.</p>';return}let c=new Set;i.forEach(x=>{Object.keys(e[x]).forEach(v=>c.add(v))});let s=Array.from(c);s.sort((x,v)=>{if(x==="Other")return 1;if(v==="Other")return-1;let C=P=>P?r(P.replace(/[-_]/g," ")):"Unknown";return C(x).localeCompare(C(v))}),window.aipkit_assignModuleColors(s);let t=1;i.forEach(x=>{let v=Object.values(e[x]).reduce((C,P)=>C+P,0);v>t&&(t=v)}),t=t*1.05;let d=i.length,a=250,l=s.length>0?Math.max(40,Math.ceil(s.length/3)*20):0,p={top:20,right:20,bottom:30+l,left:50},_=n.clientWidth-p.left-p.right,u=a-p.top-p.bottom,m=Math.max(1,_/d*.8),k=Math.max(0,_/d*.2),f=document.createElementNS(g,"svg");f.setAttribute("viewBox",`0 0 ${n.clientWidth} ${a}`),f.setAttribute("preserveAspectRatio","xMidYMid meet"),f.setAttribute("class","aipkit_token_usage_chart_svg"),f.setAttribute("aria-label","Token usage per module per day chart");let w=document.createElementNS(g,"g");w.setAttribute("transform",`translate(${p.left}, ${p.top})`),f.appendChild(w);let E=document.createElement("div");E.className="aipkit_chart_tooltip",n.style.position="relative",n.appendChild(E);let y=document.createElementNS(g,"g");y.setAttribute("class","aipkit_chart_axis aipkit_chart_axis_y"),w.appendChild(y);let I=document.createElementNS(g,"line");I.setAttribute("x1",0),I.setAttribute("y1",0),I.setAttribute("x2",0),I.setAttribute("y2",u),y.appendChild(I);let S=5;for(let x=0;x<S;x++){let v=Math.round(t*(x/(S-1))),C=u-u*(x/(S-1)),P=document.createElementNS(g,"text");P.setAttribute("x",-5),P.setAttribute("y",C+3),P.setAttribute("class","aipkit_chart_label aipkit_chart_label_y"),P.textContent=window.aipkit_formatChartNumber(v),y.appendChild(P);let $=document.createElementNS(g,"line");$.setAttribute("x1",0),$.setAttribute("y1",C),$.setAttribute("x2",_),$.setAttribute("y2",C),$.setAttribute("class","aipkit_chart_grid_line"),w.insertBefore($,w.firstChild)}let h=document.createElementNS(g,"g");h.setAttribute("class","aipkit_chart_axis aipkit_chart_axis_x"),h.setAttribute("transform",`translate(0, ${u})`),w.appendChild(h);let M=document.createElementNS(g,"line");M.setAttribute("x1",0),M.setAttribute("y1",0),M.setAttribute("x2",_),M.setAttribute("y2",0),h.appendChild(M);let b=Math.max(1,Math.ceil(d/(_/60)));i.forEach((x,v)=>{if(v%b===0||v===d-1){let C=v*(m+k)+m/2+k/2,P=document.createElementNS(g,"text");P.setAttribute("x",C),P.setAttribute("y",p.bottom-l-10),P.setAttribute("class","aipkit_chart_label aipkit_chart_label_x"),P.textContent=window.aipkit_formatChartDate(x),h.appendChild(P)}});let A=document.createElementNS(g,"g");if(w.appendChild(A),i.forEach((x,v)=>{let C=e[x],P=u,$=0;s.filter(D=>C[D]>0).forEach(D=>{let N=C[D]||0;$+=N;let R=N/t*u;P-=R;let j=v*(m+k)+k/2,L=document.createElementNS(g,"rect");L.setAttribute("x",j),L.setAttribute("y",P),L.setAttribute("width",m),L.setAttribute("height",Math.max(.1,R)),L.setAttribute("class","aipkit_chart_bar"),L.setAttribute("fill",window.aipkit_getModuleColor(D)),L.setAttribute("data-date",x),L.setAttribute("data-module",D),L.setAttribute("data-value",N),L.setAttribute("data-daily-total",0),L.addEventListener("mouseenter",K=>window.aipkit_showStackedTooltip(K,E)),L.addEventListener("mousemove",K=>window.aipkit_moveChartTooltip(K,E)),L.addEventListener("mouseleave",()=>window.aipkit_hideChartTooltip(E)),A.appendChild(L)}),A.querySelectorAll(`rect[data-date="${x}"]`).forEach(D=>D.setAttribute("data-daily-total",$))}),s.length>0){let x=document.createElementNS(g,"g");x.setAttribute("class","aipkit_chart_legend"),x.setAttribute("transform",`translate(0, ${u+p.bottom-l+5})`),w.appendChild(x);let v=0,C=0,P=20,$=_,U=35;s.forEach(B=>{let D=r(B.replace(/[-_]/g," ")),R=D.length*7+25+U;v>0&&v+R>$&&(v=0,C+=P);let j=document.createElementNS(g,"g");j.setAttribute("transform",`translate(${v}, ${C})`);let L=document.createElementNS(g,"rect");L.setAttribute("width",10),L.setAttribute("height",10),L.setAttribute("y",-5),L.setAttribute("fill",window.aipkit_getModuleColor(B)),j.appendChild(L);let K=document.createElementNS(g,"text");K.setAttribute("x",15),K.setAttribute("y",0),K.setAttribute("class","aipkit_chart_legend_label"),K.textContent=D,j.appendChild(K),x.appendChild(j),v+=R})}n.appendChild(f)}function r(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}window.aipkit_renderTokenUsageChart=o})();(function(){"use strict";function g(o){let r=document.getElementById("aipkit_token_usage_chart_container");if(!r){console.warn("AIPKit Chart Fetcher: Container not found.");return}if(typeof window.aipkit_apiRequest!="function"||typeof window.aipkit_renderTokenUsageChart!="function"){console.error("AIPKit Chart Fetcher: Missing required API or render functions.");return}let n=r.querySelector(".aipkit_chart_loading_placeholder"),e=r.querySelector(".aipkit_chart_error_placeholder"),i=r.querySelector(".aipkit_chart_nodata_placeholder");e&&(e.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="flex");let c=[3,7,14,30,90],s=parseInt(o,10);if(!s||isNaN(s)){try{let d=localStorage.getItem("aipkit_stats_period_days"),a=parseInt(d,10);d&&!isNaN(a)&&c.includes(a)&&(s=a)}catch{}let t=document.getElementById("aipkit_stats_period_select");if(t){let d=parseInt(t.value,10);(!s||isNaN(s))&&(s=!isNaN(d)&&c.includes(d)?d:3),c.includes(s)&&String(t.value)!==String(s)&&(t.value=String(s))}else r.dataset.defaultDays?s=parseInt(r.dataset.defaultDays,10)||3:s=3}window.aipkit_apiRequest("aipkit_get_token_usage_chart_data",{days:s}).then(t=>{if(n&&(n.style.display="none"),t&&t.daily_token_data){let d=t.daily_token_data;if(d&&typeof d=="object"&&Object.values(d).some(l=>l&&typeof l=="object"&&Object.values(l).some(p=>Number(p)>0)))window.aipkit_renderTokenUsageChart(r,d);else{let l=t.notice||window.aipkit_dashboard?.text?.chartNoData||"No token usage data found for the selected period.",p=t.manage_logs_url,_=e||i;if(_){_.textContent="";let u=document.createTextNode(l+" ");if(_.appendChild(u),p){let m=document.createElement("a");m.href=p,m.target="_blank",m.rel="noopener noreferrer",m.textContent=window.aipkit_dashboard?.text?.manageLogs||"View stats",_.appendChild(m)}_.style.display="flex"}else{let u=document.createElement("div");u.className="aipkit_chart_error_placeholder",u.textContent=l,r.innerHTML="",r.appendChild(u)}}}else throw new Error("Invalid data received for chart.")}).catch(t=>{if(console.error("AIPKit Chart Fetcher: Error loading data:",t),n&&(n.style.display="none"),e)e.textContent=(window.aipkit_dashboard?.text?.chartError||"Error loading chart data.")+` (${t.message})`,e.style.display="flex";else{let d=document.createElement("div");d.className="aipkit_chart_error_placeholder",d.textContent=(window.aipkit_dashboard?.text?.chartError||"Error loading chart data.")+` (${t.message})`,r.innerHTML="",r.appendChild(d)}})}window.aipkit_loadTokenUsageChart=g,document.addEventListener("change",function(o){let r=o.target;if(r&&r.id==="aipkit_stats_period_select"){let n=parseInt(r.value,10)||7;typeof window.aipkit_loadTokenUsageChart=="function"&&window.aipkit_loadTokenUsageChart(n);try{[3,7,14,30,90].includes(n)&&localStorage.setItem("aipkit_stats_period_days",String(n))}catch{}}})})();(function(){"use strict";function g(o){window.aipkit_dashboard&&(window.aipkit_dashboard.models=window.aipkit_dashboard.models||{},window.aipkit_dashboard.models.openai=o);let r=document.getElementById("aipkit_openai_model"),n=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_openai_model"]');if(!r&&n.length===0){console.warn("OpenAI Sync: No OpenAI model selects found (#aipkit_openai_model or chat selects).");return}if(!o||Object.keys(o).length===0){r.appendChild(new Option("No models found.",""));return}let e=!1,i=["o1 models","o3 models","o4 models","gpt-3.5 models","gpt-4 models","gpt-5 models","fine-tuned models","others"],c=Object.keys(o),s=i.filter(l=>c.includes(l)).concat(c.filter(l=>!i.includes(l)).sort()),t=(l,p)=>{let _=!1;return s.forEach(u=>{let m=o[u]||[];if(m.length===0)return;let k=document.createElement("optgroup");k.label=u,m.sort((f,w)=>(f.name||f.id||"").localeCompare(w.name||w.id||"")),m.forEach(f=>{let w=new Option(f.name||f.id,f.id);f.id===p&&(w.selected=!0,_=!0),k.appendChild(w)}),l.appendChild(k)}),_};if(r){let l=t(r,r.value);if(!l&&r.value&&!r.querySelector(`option[value="${CSS.escape(r.value)}"]`)){let p=new Option(r.value+" (manual)",r.value,!1,!0),_=r.querySelector('optgroup[label="Other"]');_?_.appendChild(p):r.insertBefore(p,r.firstChild),l=!0}if(!l&&r.options.length>0&&r.selectedIndex===-1){let p=-1;for(let _=0;_<r.options.length;_++)if(!r.options[_].disabled&&r.options[_].value){p=_;break}r.selectedIndex=p!==-1?p:0}}n.forEach(l=>{if(!t(l,l.value)&&l.value&&!l.querySelector(`option[value="${CSS.escape(l.value)}"]`)){let _=new Option(l.value+" (manual)",l.value,!1,!0);l.insertBefore(_,l.firstChild)}l.options.length>0&&l.selectedIndex===-1&&(l.selectedIndex=0)});let d=document.getElementById("aipkit_content_writer_provider"),a=document.getElementById("aipkit_content_writer_model");d&&a&&d.value==="openai"&&typeof window.aipkit_populateModelsForContentWriter=="function"&&window.aipkit_populateModelsForContentWriter(d,a)}window.aipkit_updateOpenAIModels=g})();(function(){"use strict";let g=window.wp?.i18n?.__||function(r){return r};function o(r){window.aipkit_dashboard&&(window.aipkit_dashboard.models=window.aipkit_dashboard.models||{},window.aipkit_dashboard.models.openrouter=Array.isArray(r)?r:[]);let n=document.getElementById("aipkit_openrouter_model"),e=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_openrouter_model"]');if(!n&&e.length===0){console.warn("OpenRouter Sync: No OpenRouter model selects found (#aipkit_openrouter_model or chat selects).");return}let i=window.aipkit_dashboard?.recommendedModels?.openrouter||[],c=Array.isArray(i)?i:[],s=a=>{if(!a)return[];let l=g("Recommended","gpt3-ai-content-generator"),p=Array.from(a.querySelectorAll("optgroup")).find(_=>_.label===l||_.label==="Recommended");return p?Array.from(p.querySelectorAll("option")).map(_=>({id:_.value,name:_.textContent.trim()||_.value})).filter(_=>_.id):[]};if(c.length===0){let a=n||e[0];c=s(a)}let t=new Set(c.map(a=>a?.id).filter(Boolean)),d=a=>{let l=a.value;a.innerHTML="";let p=!1,_=!1;if(c.length>0){let k=document.createElement("optgroup");k.label=g("Recommended","gpt3-ai-content-generator"),c.forEach(f=>{if(f&&typeof f=="object"&&f.id){let w=new Option(f.name||f.id,f.id);f.id===l&&(w.selected=!0,p=!0),k.appendChild(w)}}),k.children.length>0&&(a.appendChild(k),_=!0)}if(!r||!r.length){_||a.appendChild(new Option("No models found.",""));return}let u={};if(r.forEach(k=>{if(!k||!k.id||t.has(k.id))return;let f=k.id.split("/"),w=(f.length>1?f[0]:"other").toLowerCase();u[w]||(u[w]=[]),u[w].push(k)}),Object.keys(u).sort().forEach(k=>{let f=document.createElement("optgroup");f.label=k.charAt(0).toUpperCase()+k.slice(1),u[k].sort((w,E)=>(w.name||"").localeCompare(E.name||"")),u[k].forEach(w=>{let E=new Option(w.name||w.id,w.id);w.id===l&&(E.selected=!0,p=!0),f.appendChild(E)}),f.children.length>0&&(a.appendChild(f),_=!0)}),!p&&l&&!a.querySelector(`option[value="${CSS.escape(l)}"]`)){let k=new Option(l+" (manual)",l,!1,!0);a.insertBefore(k,a.firstChild)}if(!p&&a.options.length>0&&a.selectedIndex===-1){let k=-1;for(let f=0;f<a.options.length;f++)if(!a.options[f].disabled&&a.options[f].value){k=f;break}a.selectedIndex=k!==-1?k:0}};n&&d(n),e.forEach(d)}window.aipkit_updateOpenRouterModels=o})();(function(){"use strict";let g=window.wp?.i18n?.__||function(r){return r};function o(r){let n=document.getElementById("aipkit_google_model"),e=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_google_model"]');if(!n&&e.length===0){console.warn("Google Sync: No Google model selects found (#aipkit_google_model or chat selects).");return}let i=window.aipkit_dashboard?.recommendedModels?.google||[],c=Array.isArray(i)?i:[],s=l=>{if(!l)return[];let p=g("Recommended","gpt3-ai-content-generator"),_=Array.from(l.querySelectorAll("optgroup")).find(u=>u.label===p||u.label==="Recommended");return _?Array.from(_.querySelectorAll("option")).map(u=>({id:u.value,name:u.textContent.trim()||u.value})).filter(u=>u.id):[]};if(c.length===0){let l=n||e[0];c=s(l)}let t=new Set(c.map(l=>l?.id).filter(Boolean)),d=Array.isArray(r)?r.slice():[];d.sort((l,p)=>(l.name||l.id||"").localeCompare(p.name||p.id||""));let a=l=>{let p=l.value;l.innerHTML="";let _=!1,u=!1,m=c.length>0?document.createElement("optgroup"):null;if(m&&(m.label=g("All models","gpt3-ai-content-generator")),c.length>0){let k=document.createElement("optgroup");k.label=g("Recommended","gpt3-ai-content-generator"),c.forEach(f=>{if(f&&typeof f=="object"&&f.id){let w=new Option(f.name||f.id,f.id);(f.id===p||`models/${f.id}`===p)&&(w.selected=!0,_=!0),k.appendChild(w)}}),k.children.length>0&&(l.appendChild(k),u=!0)}if(!d.length){u||l.appendChild(new Option("No models found.",""));return}if(d.forEach(k=>{let f=k.id||"",w=k.name||f;if(!f||t.has(f))return;let E=new Option(w,f);(f===p||`models/${f}`===p)&&(E.selected=!0,_=!0),m?m.appendChild(E):(l.appendChild(E),u=!0)}),m&&m.children.length>0&&(l.appendChild(m),u=!0),!_&&p){let k=p.startsWith("models/")?p.substring(7):p;if(!l.querySelector(`option[value="${CSS.escape(k)}"]`)){let f=k,w=new Option(f+" (manual)",p,!1,!0);l.insertBefore(w,l.firstChild),l.value=p}}if(l.options.length>0&&l.selectedIndex===-1){let k=-1;for(let f=0;f<l.options.length;f++)if(!l.options[f].disabled&&l.options[f].value){k=f;break}l.selectedIndex=k!==-1?k:0}};n&&a(n),e.forEach(a)}window.aipkit_updateGoogleModels=o})();(function(){"use strict";function g(o){let r=document.getElementById("aipkit_azure_deployment"),n=document.querySelectorAll('select[id^="aipkit_bot_"][id$="_azure_deployment"]');if(!r&&n.length===0){console.warn("Azure Sync: No Azure deployment selects found (#aipkit_azure_deployment or chat selects).");return}let e=i=>{let c=i.value;i.innerHTML="";let s=o&&typeof o=="object"&&!Array.isArray(o)&&(o["Chat Models"]||o["Embedding Models"]||o["Image Models"]);if(!o||Array.isArray(o)&&!o.length||s&&Object.keys(o).length===0){if(r.appendChild(new Option("No deployments found.","")),c){let d=new Option(c+" (manual)",c,!1,!0);r.appendChild(d),r.value=c}return}let t=!1;if(s)Object.keys(o).forEach(d=>{let a=o[d];if(a&&Array.isArray(a)&&a.length>0){let l=document.createElement("optgroup");l.label=d,a.sort((p,_)=>(p.id||"").localeCompare(_.id||"")),a.forEach(p=>{let _=p.id||"",u=p.name||_;if(!_)return;let m=_+(u&&u!==_?` (model: ${u})`:""),k=new Option(m,_);_===c&&(k.selected=!0,t=!0),l.appendChild(k)}),i.appendChild(l)}});else{let d=Array.isArray(o)?o:[];d.sort((a,l)=>(a.id||"").localeCompare(l.id||"")),d.forEach(a=>{let l=a.id||"",p=a.name||l;if(!l)return;let _=l+(p&&p!==l?` (model: ${p})`:""),u=new Option(_,l);l===c&&(u.selec

